<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Weather Observations</title>
</head>
<body>
<h1>Weahter Observations</h1>
<label>Temperature: </label>
<p id="temperature"></p>

<script src="https://unpkg.com/@microsoft/signalr@3.0.1/dist/browser/signalr.js" crossorigin="anonymous"></script>
<script>
    var connection = new signalR.HubConnectionBuilder().withUrl("/LiveHub").build();
    alert("wup wup");

    connection.on("ReceiveMessage",
        function(message) {
            console.log(message);
            document.getElementById("temperature").value = JSON.parse(message);
        });

    connection.start().then(function() {
        console.log("Connected");
    }).catch(function(err) {
        console.error(err.toString());
    });
</script>
</body>
</html>